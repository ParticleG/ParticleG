import{e as q,i as z,q as B,O as _,G as Q,f as d,j as v,m as S,X as O,h as g,R as I,U as T,Y as k,Z as R,_ as $,o as A,c as D,w as c,d as i,W as p,$ as N,a0 as j,a1 as F}from"./index-D9zY629U.js";import{Q as L}from"./QImg-CZVy4UCX.js";import{Q as P,a as U}from"./QToolbar-Bo_6J2SH.js";import{Q as G}from"./QTooltip-W0mXt4hH.js";import{Q as K}from"./QResizeObserver-HImiDEfa.js";import{bus as W}from"./bus-NnHixtlj.js";import{i as X}from"./common-Bk-9SMvx.js";import"./selection-BoZykA1B.js";import"./use-model-toggle-BiJwUGZY.js";import"./focus-manager-DWCfG0Vr.js";import"./scroll-DYweQj4i.js";import"./i18n-D2fcLSDt.js";import"./vue-i18n.runtime-Dehq6bdw.js";const Y=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:l,emit:f}){const{proxy:{$q:o}}=z(),t=B(I,_);if(t===_)return console.error("QHeader needs to be child of QLayout"),_;const u=Q(parseInt(a.heightHint,10)),r=Q(!0),h=d(()=>a.reveal===!0||t.view.value.indexOf("H")!==-1||o.platform.is.ios&&t.isContainer.value===!0),b=d(()=>{if(a.modelValue!==!0)return 0;if(h.value===!0)return r.value===!0?u.value:0;const e=u.value-t.scroll.value.position;return e>0?e:0}),y=d(()=>a.modelValue!==!0||h.value===!0&&r.value!==!0),C=d(()=>a.modelValue===!0&&y.value===!0&&a.reveal===!0),w=d(()=>"q-header q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-top"+(a.bordered===!0?" q-header--bordered":"")+(y.value===!0?" q-header--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus":"")),V=d(()=>{const e=t.rows.value.top,s={};return e[0]==="l"&&t.left.space===!0&&(s[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(s[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),s});function n(e,s){t.update("header",e,s)}function m(e,s){e.value!==s&&(e.value=s)}function H({height:e}){m(u,e),n("size",e)}function M(e){C.value===!0&&m(r,!0),f("focusin",e)}v(()=>a.modelValue,e=>{n("space",e),m(r,!0),t.animate()}),v(b,e=>{n("offset",e)}),v(()=>a.reveal,e=>{e===!1&&m(r,a.modelValue)}),v(r,e=>{t.animate(),f("reveal",e)}),v(t.scroll,e=>{a.reveal===!0&&m(r,e.direction==="up"||e.position<=a.revealOffset||e.position-e.inflectionPoint<100)});const x={};return t.instances.header=x,a.modelValue===!0&&n("size",u.value),n("space",a.modelValue),n("offset",b.value),S(()=>{t.instances.header===x&&(t.instances.header=void 0,n("size",0),n("offset",0),n("space",!1))}),()=>{const e=O(l.default,[]);return a.elevated===!0&&e.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(g(K,{debounce:0,onResize:H})),g("header",{class:w.value,style:V.value,onFocusin:M},e)}}}),Z=T({__name:"MainHeader",setup(a,{expose:l}){l();const{toggleDarkMode:f}=k(),{darkModeColorAndIcon:o}=R(k()),t=X("layouts.headers.MainHeader"),u={toggleDarkMode:f,darkModeColorAndIcon:o,i18n:t,get bus(){return W}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function E(a,l,f,o,t,u){return A(),D(Y,{bordered:"",class:"bg-primary text-white"},{default:c(()=>[i(U,null,{default:c(()=>[i(p,{dense:"",flat:"",icon:"menu",round:"",onClick:l[0]||(l[0]=r=>o.bus.emit("drawer","toggle","left"))}),i(P,null,{default:c(()=>[i(N,null,{default:c(()=>[i(L,{src:"favicon.ico"})]),_:1})]),_:1}),i(p,{icon:o.darkModeColorAndIcon.icon,"text-color":o.darkModeColorAndIcon.color,flat:"",round:"",onClick:o.toggleDarkMode},{default:c(()=>[i(G,null,{default:c(()=>[j(F(o.i18n("labels.toggleDarkMode")),1)]),_:1})]),_:1},8,["icon","text-color","onClick"]),i(p,{dense:"",flat:"",icon:"menu",round:"",onClick:l[1]||(l[1]=r=>o.bus.emit("drawer","toggle","right"))})]),_:1})]),_:1})}const fe=$(Z,[["render",E],["__file","MainHeader.vue"]]);export{fe as default};
