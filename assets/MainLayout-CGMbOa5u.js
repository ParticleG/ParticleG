import{e as $,i as P,q as B,O as _,f as d,h,g as M,R as Q,a2 as q,S as j,G as m,H as E,a3 as w,j as K,a4 as N,N as U,U as G,_ as I,o as V,c as A,w as L,d as g,a5 as J}from"./index-D9zY629U.js";import{Q as X}from"./QScrollObserver-DiPjjY_w.js";import{Q as R}from"./QResizeObserver-HImiDEfa.js";import{e as S}from"./scroll-DYweQj4i.js";import{u as Y}from"./use-quasar-BgrbG0Y1.js";import{bus as Z}from"./bus-NnHixtlj.js";const ee=$({name:"QPageContainer",setup(o,{slots:v}){const{proxy:{$q:i}}=P(),e=B(Q,_);if(e===_)return console.error("QPageContainer needs to be child of QLayout"),_;q(j,!0);const s=d(()=>{const n={};return e.header.space===!0&&(n.paddingTop=`${e.header.size}px`),e.right.space===!0&&(n[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(n.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(n[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),n});return()=>h("div",{class:"q-page-container",style:s.value},M(v.default))}}),te=$({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:o=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(o.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(o,{slots:v,emit:i}){const{proxy:{$q:e}}=P(),s=m(null),n=m(e.screen.height),a=m(o.container===!0?0:e.screen.width),p=m({position:0,direction:"down",inflectionPoint:0}),c=m(0),u=m(E.value===!0?0:S()),H=d(()=>"q-layout q-layout--"+(o.container===!0?"containerized":"standard")),O=d(()=>o.container===!1?{minHeight:e.screen.height+"px"}:null),D=d(()=>u.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),T=d(()=>u.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function k(t){if(o.container===!0||document.qScrollPrevented!==!0){const l={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};p.value=l,o.onScroll!==void 0&&i("scroll",l)}}function F(t){const{height:l,width:f}=t;let r=!1;n.value!==l&&(r=!0,n.value=l,o.onScrollHeight!==void 0&&i("scrollHeight",l),z()),a.value!==f&&(r=!0,a.value=f),r===!0&&o.onResize!==void 0&&i("resize",t)}function W({height:t}){c.value!==t&&(c.value=t,z())}function z(){if(o.container===!0){const t=n.value>c.value?S():0;u.value!==t&&(u.value=t)}}let y=null;const x={instances:{},view:d(()=>o.view),isContainer:d(()=>o.container),rootRef:s,height:n,containerHeight:c,scrollbarWidth:u,totalWidth:d(()=>a.value+u.value),rows:d(()=>{const t=o.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:w({size:0,offset:0,space:!1}),right:w({size:300,offset:0,space:!1}),footer:w({size:0,offset:0,space:!1}),left:w({size:300,offset:0,space:!1}),scroll:p,animate(){y!==null?clearTimeout(y):document.body.classList.add("q-body--layout-animate"),y=setTimeout(()=>{y=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,l,f){x[t][l]=f}};if(q(Q,x),S()>0){let t=function(){r=null,b.classList.remove("hide-scrollbar")},l=function(){if(r===null){if(b.scrollHeight>e.screen.height)return;b.classList.add("hide-scrollbar")}else clearTimeout(r);r=setTimeout(t,300)},f=function(C){r!==null&&C==="remove"&&(clearTimeout(r),t()),window[`${C}EventListener`]("resize",l)},r=null;const b=document.body;K(()=>o.container!==!0?"add":"remove",f),o.container!==!0&&f("add"),N(()=>{f("remove")})}return()=>{const t=U(v.default,[h(X,{onScroll:k}),h(R,{onResize:F})]),l=h("div",{class:H.value,style:O.value,ref:o.container===!0?void 0:s,tabindex:-1},t);return o.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:s},[h(R,{onResize:W}),h("div",{class:"absolute-full",style:D.value},[h("div",{class:"scroll",style:T.value},[l])])]):l}}}),oe=G({__name:"MainLayout",setup(o,{expose:v}){v();const{screen:i}=Y(),e=m(!1),s=m(!1);Z.on("drawer",(a,p)=>{const c=p==="left"?e:s;switch(a){case"open":c.value=!0;break;case"close":c.value=!1;break;case"toggle":c.value=!c.value;break}});const n={screen:i,leftDrawerOpen:e,rightDrawerOpen:s};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function ne(o,v,i,e,s,n){const a=J("router-view");return V(),A(te,{view:"hHh LpR lFf"},{default:L(()=>[g(a,{mobile:e.screen.lt.md,name:"header"},null,8,["mobile"]),g(a,{mobile:e.screen.lt.md,"model-value":e.leftDrawerOpen,name:"leftDrawer"},null,8,["mobile","model-value"]),g(ee,{style:{height:"100vh"}},{default:L(()=>[g(a)]),_:1}),g(a,{mobile:e.screen.lt.md,"model-value":e.rightDrawerOpen,name:"rightDrawer"},null,8,["mobile","model-value"]),g(a,{mobile:e.screen.lt.md,name:"footer"},null,8,["mobile"])]),_:1})}const ue=I(oe,[["render",ne],["__file","MainLayout.vue"]]);export{ue as default};
